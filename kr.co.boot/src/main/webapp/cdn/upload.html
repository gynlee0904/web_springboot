<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>FTP 파일전송 </title>
</head>
<body>
<form id="frm" method="post" action="./cdn_fileok.do" enctype="multipart/form-data">
<input type="hidden" name="url" value="kbsn.or.kr">
파일첨부 : <input type="file" name="mfile"> <!-- ★★★첨부파일의 name은 절대절대 DTO로 핸들링하지 않는다 -->
<br>
<input type="button" id="btn" value="CDN파일업로드">

</form>
</body>
<script>
document.querySelector("#btn").addEventListener("click",function(){
	if(frm.mfile.value==""){
		alert("파일 첨부 해주세요.");
		
	}else{
		var mb = (1024*1024)*2;
		var fileck = frm.mfile.files[0].size;
		console.log(fileck);
		
		if(fileck > mb){
			alert("파일 첨부는 최대 2MB이하 입니다.");
			frm.mfile.value=="";
			
		}else {
			console.log(frm.mfile.files[0])
			var types = frm.mfile.files[0].type;
			if(types != "image/png" && types != "image/jpeg" && types != "image/bmp"  && types != "image/webp"){
				alert("파일첨부는 이미지 파일만 첨부 가능합니다.")
				
			}else {
	 			frm.submit();
			}
		}
	}
})



</script>
</html>